[
  {
    "init": {
      "assign": [
        {
          "project_id": "${sys.get_env(\"GOOGLE_CLOUD_PROJECT_ID\")}"
        },
        {
          "secret_id": "dummy-secret"
        }
      ]
    }
  },
  {
    "create_secret": {
      "call": "googleapis.secretmanager.v1.projects.secrets.create",
      "args": {
        "parent": "${\"projects/\" + project_id}",
        "secretId": "${secret_id}",
        "body": {
          "replication": {
            "automatic": {
              "customerManagedEncryption": null
            }
          }
        }
      }
    }
  },
  {
    "delete_secret": {
      "call": "googleapis.secretmanager.v1.projects.secrets.delete",
      "args": {
        "name": "${\"projects/\" + project_id + \"/secrets/\" + secret_id}"
      }
    }
  },
  {
    "the_end": {
      "return": "SUCCESS"
    }
  }
]